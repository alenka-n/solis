{"ast":null,"code":"const API_BASE_URL = 'http://localhost:3001';\nconst CURRENT_USER_ID = 1;\nclass ApiService {\n  async getDiaryEntries() {\n    const response = await fetch(`${API_BASE_URL}/diary_entries?userId=${CURRENT_USER_ID}`);\n    return response.json();\n  }\n  async createDiaryEntry(entry) {\n    const response = await fetch(`${API_BASE_URL}/diary_entries`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        ...entry,\n        userId: CURRENT_USER_ID,\n        id: Date.now()\n      })\n    });\n    return response.json();\n  }\n  async getLikedTracks() {\n    const response = await fetch(`${API_BASE_URL}/liked_tracks?userId=${CURRENT_USER_ID}`);\n    const tracks = await response.json();\n    return tracks.map(item => item.track);\n  }\n  async toggleLikedTrack(track) {\n    const tracks = await fetch(`${API_BASE_URL}/liked_tracks?userId=${CURRENT_USER_ID}&track=${track}`);\n    const existing = await tracks.json();\n    if (existing.length > 0) {\n      await fetch(`${API_BASE_URL}/liked_tracks/${existing[0].id}`, {\n        method: 'DELETE'\n      });\n      return false;\n    } else {\n      await fetch(`${API_BASE_URL}/liked_tracks`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          userId: CURRENT_USER_ID,\n          track,\n          id: Date.now()\n        })\n      });\n      return true;\n    }\n  }\n  async getAllUsers() {\n    const response = await fetch(`${API_BASE_URL}/users`);\n    return response.json();\n  }\n  async getAllDiaryEntries() {\n    const response = await fetch(`${API_BASE_URL}/diary_entries`);\n    return response.json();\n  }\n  async getAllLikedTracks() {\n    const response = await fetch(`${API_BASE_URL}/liked_tracks`);\n    return response.json();\n  }\n}\nexport default new ApiService();","map":{"version":3,"names":["API_BASE_URL","CURRENT_USER_ID","ApiService","getDiaryEntries","response","fetch","json","createDiaryEntry","entry","method","headers","body","JSON","stringify","userId","id","Date","now","getLikedTracks","tracks","map","item","track","toggleLikedTrack","existing","length","getAllUsers","getAllDiaryEntries","getAllLikedTracks"],"sources":["c:/Users/Алёна/projects/solis/src/services/api.js"],"sourcesContent":["const API_BASE_URL = 'http://localhost:3001';\nconst CURRENT_USER_ID = 1;\n\nclass ApiService {\n  async getDiaryEntries() {\n    const response = await fetch(`${API_BASE_URL}/diary_entries?userId=${CURRENT_USER_ID}`);\n    return response.json();\n  }\n\n  async createDiaryEntry(entry) {\n    const response = await fetch(`${API_BASE_URL}/diary_entries`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ ...entry, userId: CURRENT_USER_ID, id: Date.now() })\n    });\n    return response.json();\n  }\n\n  async getLikedTracks() {\n    const response = await fetch(`${API_BASE_URL}/liked_tracks?userId=${CURRENT_USER_ID}`);\n    const tracks = await response.json();\n    return tracks.map(item => item.track);\n  }\n\n  async toggleLikedTrack(track) {\n    const tracks = await fetch(`${API_BASE_URL}/liked_tracks?userId=${CURRENT_USER_ID}&track=${track}`);\n    const existing = await tracks.json();\n    \n    if (existing.length > 0) {\n      await fetch(`${API_BASE_URL}/liked_tracks/${existing[0].id}`, {\n        method: 'DELETE'\n      });\n      return false;\n    } else {\n      await fetch(`${API_BASE_URL}/liked_tracks`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ userId: CURRENT_USER_ID, track, id: Date.now() })\n      });\n      return true;\n    }\n  }\n\n  async getAllUsers() {\n    const response = await fetch(`${API_BASE_URL}/users`);\n    return response.json();\n  }\n\n  async getAllDiaryEntries() {\n    const response = await fetch(`${API_BASE_URL}/diary_entries`);\n    return response.json();\n  }\n\n  async getAllLikedTracks() {\n    const response = await fetch(`${API_BASE_URL}/liked_tracks`);\n    return response.json();\n  }\n}\n\nexport default new ApiService();"],"mappings":"AAAA,MAAMA,YAAY,GAAG,uBAAuB;AAC5C,MAAMC,eAAe,GAAG,CAAC;AAEzB,MAAMC,UAAU,CAAC;EACf,MAAMC,eAAeA,CAAA,EAAG;IACtB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,YAAY,yBAAyBC,eAAe,EAAE,CAAC;IACvF,OAAOG,QAAQ,CAACE,IAAI,CAAC,CAAC;EACxB;EAEA,MAAMC,gBAAgBA,CAACC,KAAK,EAAE;IAC5B,MAAMJ,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,YAAY,gBAAgB,EAAE;MAC5DS,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAE,GAAGL,KAAK;QAAEM,MAAM,EAAEb,eAAe;QAAEc,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC;MAAE,CAAC;IAC5E,CAAC,CAAC;IACF,OAAOb,QAAQ,CAACE,IAAI,CAAC,CAAC;EACxB;EAEA,MAAMY,cAAcA,CAAA,EAAG;IACrB,MAAMd,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,YAAY,wBAAwBC,eAAe,EAAE,CAAC;IACtF,MAAMkB,MAAM,GAAG,MAAMf,QAAQ,CAACE,IAAI,CAAC,CAAC;IACpC,OAAOa,MAAM,CAACC,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACC,KAAK,CAAC;EACvC;EAEA,MAAMC,gBAAgBA,CAACD,KAAK,EAAE;IAC5B,MAAMH,MAAM,GAAG,MAAMd,KAAK,CAAC,GAAGL,YAAY,wBAAwBC,eAAe,UAAUqB,KAAK,EAAE,CAAC;IACnG,MAAME,QAAQ,GAAG,MAAML,MAAM,CAACb,IAAI,CAAC,CAAC;IAEpC,IAAIkB,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAE;MACvB,MAAMpB,KAAK,CAAC,GAAGL,YAAY,iBAAiBwB,QAAQ,CAAC,CAAC,CAAC,CAACT,EAAE,EAAE,EAAE;QAC5DN,MAAM,EAAE;MACV,CAAC,CAAC;MACF,OAAO,KAAK;IACd,CAAC,MAAM;MACL,MAAMJ,KAAK,CAAC,GAAGL,YAAY,eAAe,EAAE;QAC1CS,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,MAAM,EAAEb,eAAe;UAAEqB,KAAK;UAAEP,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC;QAAE,CAAC;MACzE,CAAC,CAAC;MACF,OAAO,IAAI;IACb;EACF;EAEA,MAAMS,WAAWA,CAAA,EAAG;IAClB,MAAMtB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,YAAY,QAAQ,CAAC;IACrD,OAAOI,QAAQ,CAACE,IAAI,CAAC,CAAC;EACxB;EAEA,MAAMqB,kBAAkBA,CAAA,EAAG;IACzB,MAAMvB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,YAAY,gBAAgB,CAAC;IAC7D,OAAOI,QAAQ,CAACE,IAAI,CAAC,CAAC;EACxB;EAEA,MAAMsB,iBAAiBA,CAAA,EAAG;IACxB,MAAMxB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,YAAY,eAAe,CAAC;IAC5D,OAAOI,QAAQ,CAACE,IAAI,CAAC,CAAC;EACxB;AACF;AAEA,eAAe,IAAIJ,UAAU,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}